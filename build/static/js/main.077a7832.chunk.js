(window["webpackJsonponeview-commerce-test"]=window["webpackJsonponeview-commerce-test"]||[]).push([[0],{21:function(e,t,n){e.exports=n(32)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),c=n.n(o),l=n(5),u=n(3),i=n(13),s=n.n(i),p=n(14),m=n(15);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E={currentView:"userTable",searchValue:"",postUser:{id:null,name:""},tableData:[],postData:[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"TABLE_UPDATE_DATA":return f({},e,{tableData:t.payload});case"POSTS_UPDATE_DATA":return f({},e,{postData:t.payload.postData,postUser:t.payload.postUser});case"UPDATE_CURRENT_VIEW":return f({},e,{currentView:t.payload});case"UPDATE_SEARCH_INPUT":return f({},e,{searchValue:t.payload});default:return e}};n(30);var h=n(16),b=n(17),T=n(19),w=n(18),D=n(20),v=(n(31),function(e){return function(t){t({type:"UPDATE_SEARCH_INPUT",payload:e})}}),O=n(9),P=function(e){return e.currentView},j=function(e){return e.postUser},g=Object(O.a)(function(e){return e.postData},function(e){return _(e)}),U=Object(O.a)(function(e){return e.tableData},function(e){return e.searchValue},function(e,t){return A(e,t)}),A=function(e,t){return e.reduce(function(e,n){return t&&""!==t?n.name.trim().toLowerCase().search(t.trim().toLowerCase())>-1&&e.push({id:n.id,name:n.name,email:n.email,city:n.address.city,company:n.company.name}):e.push({id:n.id,name:n.name,email:n.email,city:n.address.city,company:n.company.name}),e},[])},_=function(e){return e.map(function(e){return{title:e.title,body:e.body}})},V=function(e){var t=e.data,n=e.goToPostView;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"Company"))),t?r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{onClick:function(){return n({id:e.id,name:e.name})},style:{cursor:"pointer"}},e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.company))})):null)},C=function(e){var t=e.data,n=e.postUser;return r.a.createElement("div",{className:"table-container"},r.a.createElement("h3",null,n.name," Posts:"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Body"))),t?r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.body))})):null))},k=function(e){function t(){return Object(h.a)(this,t),Object(T.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.getTableData()}},{key:"render",value:function(){var e=this.props,t=e.currentView,n=e.tableData,a=e.postData,o=e.changeToPostView,c=e.changeToTableView,l=e.updateSearchInput,u=e.postUser;return r.a.createElement("div",{className:"main-container"},"userTable"===t&&r.a.createElement("div",null,r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{onChange:function(e){return l(e.target.value)},placeholder:"Search by name:"})),r.a.createElement(V,{data:n,goToPostView:function(e){return o(e)}})),"postTable"===t&&r.a.createElement("div",null,r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{onClick:c},"Back")),r.a.createElement(C,{data:a,postUser:u})))}}]),t}(a.Component),S={getTableData:function(){return function(e){fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()}).then(function(t){e({type:"TABLE_UPDATE_DATA",payload:t})})}},changeToPostView:function(e){return function(t){t(function(e){return function(t){fetch("https://jsonplaceholder.typicode.com/posts?userId=".concat(e.id)).then(function(e){return e.json()}).then(function(n){t({type:"POSTS_UPDATE_DATA",payload:{postData:n,postUser:e}})})}}(e)),t({type:"UPDATE_CURRENT_VIEW",payload:"postTable"})}},changeToTableView:function(){return function(e){e(v("")),e({type:"UPDATE_CURRENT_VIEW",payload:"userTable"})}},updateSearchInput:v},N=Object(l.b)(function(e){return{currentView:P(e),tableData:U(e),postData:g(e),postUser:j(e)}},S)(k);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{store:Object(u.c)(y,Object(u.a)(p.a,s.a))},r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.077a7832.chunk.js.map